<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<title>rest-server.js</title>
<link rel="stylesheet" type="text/css" href="highlight.css">
</head>
<body class="hl">
<pre class="hl">
<span class="hl kwa">var</span> http<span class="hl sym">=</span><span class="hl kwd">require</span><span class="hl sym">(</span><span class="hl str">'http'</span><span class="hl sym">);</span>
http<span class="hl sym">.</span><span class="hl kwd">createServer</span><span class="hl sym">(</span><span class="hl kwa">function</span> <span class="hl sym">(</span>req<span class="hl sym">,</span> res<span class="hl sym">) {</span>
    res<span class="hl sym">.</span><span class="hl kwd">writeHead</span><span class="hl sym">(</span><span class="hl num">200</span><span class="hl sym">, {</span><span class="hl str">'Content-Type'</span><span class="hl sym">:</span> <span class="hl str">'text/plain'</span><span class="hl sym">});</span>
    <span class="hl kwa">var</span> split_url<span class="hl sym">=</span>req<span class="hl sym">.</span>url<span class="hl sym">.</span><span class="hl kwd">split</span><span class="hl sym">(</span><span class="hl str">&quot;/&quot;</span><span class="hl sym">);</span>
    <span class="hl kwa">if</span> <span class="hl sym">(</span> split_url<span class="hl sym">[</span><span class="hl num">1</span><span class="hl sym">] ==</span> <span class="hl str">''</span> <span class="hl sym">) {</span>
	res<span class="hl sym">.</span><span class="hl kwd">end</span><span class="hl sym">(</span><span class="hl str">'Portada'</span><span class="hl sym">);</span>
    <span class="hl sym">}</span> <span class="hl kwa">else if</span> <span class="hl sym">(</span> split_url<span class="hl sym">[</span><span class="hl num">1</span><span class="hl sym">] ==</span> <span class="hl str">'proc'</span> <span class="hl sym">) {</span>
	res<span class="hl sym">.</span><span class="hl kwd">end</span><span class="hl sym">(</span><span class="hl str">'No es la portada'</span><span class="hl sym">);</span>
    <span class="hl sym">}</span> <span class="hl kwa">else</span> <span class="hl sym">{</span>
	res<span class="hl sym">.</span><span class="hl kwd">end</span><span class="hl sym">(</span><span class="hl str">'No entiendo la peticiÃ³n'</span><span class="hl sym">);</span>
    <span class="hl sym">}</span>
<span class="hl sym">}).</span><span class="hl kwd">listen</span><span class="hl sym">(</span><span class="hl num">8080</span><span class="hl sym">,</span> <span class="hl str">'127.0.0.1'</span><span class="hl sym">);</span>
console<span class="hl sym">.</span><span class="hl kwd">log</span><span class="hl sym">(</span><span class="hl str">'Server running at http://127.0.0.1:8080/'</span><span class="hl sym">);</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 2.16, http://www.andre-simon.de/-->
